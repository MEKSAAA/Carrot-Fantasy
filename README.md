# Carrot-Fantasy

本项目使用cocos2dx3.17.2开发保卫萝卜项目。<br>
项目成员：孙静怡，苗君文，张唯来<br>
项目初始分工：<br>
孙静怡（33.33%）：各种场景的建立，建立萝卜，辅助塔的功能<br>
苗君文（33.33%）：怪物，萝卜与怪物的相关功能，游戏结束界面<br>
张唯来（33.33%）：建塔与攻击，研究github功能<br><br>

本项目目前已实现的功能如下：<br>
支持3种防御塔和防御塔的删除<br>
每种防御塔的攻击特效，完成发射物弹道<br>
怪物、萝卜生命值显示<br>
有资源的显示<br>
支持每种防御塔的升级，可升级两次<br>
支持萝卜的升级，可升级两次<br>
支持3种怪物<br>
支持2张地图<br>
支持背景音乐<br>
具有可滑动的关卡选择界面(自创功能)<br>
支持暂停游戏功能（已选功能）<br><br>

**以下为敌人与部分萝卜的开发日志（by 苗君文）：**<br>
1. 让敌人移动<br>
横向速度与纵向速度不同 利用moveby解决<br>
2. 生命值条<br>
progressTimer不管用<br>
增加了血条为0或到终点时怪物和血条停顿一下再消失<br>
使用前景后景<br>
增加可以通过实例调整血条相对位置<br>
3. 被攻击<br>
不同的敌人被打的效果不同<br>
增加参数抗击打水平<br>
4. 实现一群怪物<br>
首先，怪物有不同的种类<br>
用enum 并改变createEnemy的参数<br>
增加了setType函数<br>
其次，怪物有各自的数量<br>
schedule的运用<br>
5. 怎么实现怪物到终点萝卜就被咬<br>
使用监听器<br>
并将每个场景中的萝卜设置为指针<br>
6. 让萝卜有生命值显示<br>
仿照enemy中血条写法 在mapscene中写出萝卜对应的生命值和生命值条 因为一个场景下只有一个萝卜 方便写代码<br>
并要实现萝卜死后生命值也能消失<br>
在update Carrot HealthBar中增加条件判断<br>
但是发现使用removechild并没有将生命值条移除，增加hideCarrotHealthBar函数可以使生命值条消失，但是出现游戏窗口消失的问题<br>
于是考虑在萝卜被吃掉以后增加暂停游戏的功能<br>
7. 首先增加了暂停和继续游戏的功能<br>
使用pauselayer类完成 其中用到director中的pause和resume<br>
8. 增加游戏结束场景<br>
游戏结束以后萝卜被吃掉会触发gameoverscene 从而可以出现结束游戏的界面并进行下一步操作<br>
但是要是想回到这个游戏继续运行需要先按暂停再按继续才能实现<br>
发现问题出在游戏在结束时被暂停 因此需要继续游戏以后才能正常执行<br>
9. 目前地图一暂时至此<br>
开辟地图二<br>
在移植过程中发现地图二的萝卜位置无法自定义 因此修改carrot文件增加可以自定义位置的函数<br>
10. 增加萝卜的生命值label<br>
11. 让萝卜升级 加命<br>
萝卜最多加两条命 因此要增加count计数<br>
并且升级的按钮最多按两次 也就是用户最多拥有两条多余的命 且加命只能在生命值未满的情况下使用<br>
萝卜升级时萝卜的肉也需要涨回来 这与萝卜类中的num有关 于是增加了update Carrot Animation函数<br>
12. 解决在场景暂停以后萝卜消失的问题<br>
使用onEnter函数 增加reset可以每一次重新定义carrot并且增加resume语句 与之前出的bug相对应<br>
13. 增加赢的场景结果<br>
要保证怪物已经走完且萝卜的生命值大于零怎么传萝卜的生命值<br>
可以在场景切换时定义director类中的create的重载函数<br>
并且增加了输局和赢局页面的星星结果，且星星结果与萝卜所剩的生命值相关<br>
14. 把钱改为int型方便后续调用<br>
